<!-- /*
* Bootstrap 5
* Template Name: Furni
* Template Author: Untree.co
* Template URI: https://untree.co/
* License: https://creativecommons.org/licenses/by/3.0/
*/ -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="author" content="Untree.co" />
    <link rel="shortcut icon" href="favicon.png" />

    <meta name="description" content="" />
    <meta name="keywords" content="bootstrap, bootstrap4" />

    <!-- Bootstrap CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- Font Awesome (latest stable) -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />

    <!-- Bootstrap Icons (optional, if you use them) -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Cookie&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />

    <!-- Css Styles -->
    <link rel="stylesheet" href="css3/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="css3/elegant-icons.css" type="text/css" />
    <link rel="stylesheet" href="css3/jquery-ui.min.css" type="text/css" />
    <link rel="stylesheet" href="css3/magnific-popup.css" type="text/css" />
    <link rel="stylesheet" href="css3/owl.carousel.min.css" type="text/css" />
    <link rel="stylesheet" href="css3/slicknav.min.css" type="text/css" />
    <link rel="stylesheet" href="css3/style.css" type="text/css" />

    <link href="css/tiny-slider.css" rel="stylesheet" />
    <link href="css/style.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/tempusStyle.css" />
    <link rel="stylesheet" href="css/wishlist.css" />
    <title>Tempus</title>
  </head>

  <body>
    <!--HEADER-->
    <%- include('../../views/partials/user/header')%>
    <!--HEADER-->

        <div id="products-container" class="container py-5">
  <div class="row g-4">
    <% if (wishlist && wishlist.length > 0) { %>
      <% wishlist.forEach(item => { %>
        <div class="col-lg-3 col-md-4 col-sm-6">
          <div class="card product-card h-100 border-0 shadow-sm position-relative">

            <!-- Remove Button -->
            <button class="btn btn-sm btn-light rounded-circle shadow-sm position-absolute top-0 end-0 m-2 remove-wishlist"
              data-product-id="<%= item.productId %>">
              <i class="fas fa-times text-white"></i>
            </button>

            <!-- Product Image -->
            <div class="product-image overflow-hidden">
              <img src="<%= item.variantImages[0] %>" 
                   alt="<%= item.productName %>" 
                   class="card-img-top img-fluid product-img">
            </div>

            <!-- Card Body -->
            <div class="card-body text-center">
              <h6 class="fw-semibold"><%= item.productName %></h6>
              <p class="text-muted mb-2">
                Rs. <%= item.minPrice %>
                <% if (item.minPrice !== item.maxPrice) { %>
                  - Rs. <%= item.maxPrice %>
                <% } %>
              </p>
              <a href="/collections/<%= item.productId %>?variantId=<%= item.variantId %>"
                 class="btn view-btn btn-sm px-3">
                View
              </a>
            </div>
          </div>
        </div>
      <% }) %>
    <% } else { %>
      <p class="text-center">No products found</p>
    <% } %>
  </div>
</div>



    <!--FOOTER-->
    <%- include('../../views/partials/user/footer')%>
    <!--FOOTER-->
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/tiny-slider.js"></script>
    <script src="js/custom.js"></script>
    <script src="js/templateJS.js"></script>
    <script src="js/removeFromWishlist.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
      const success_msg =
        "<%= success_msg && success_msg.length > 0 ? success_msg[0] : '' %>";
      const error_msg =
        "<%= error_msg && error_msg.length > 0 ? error_msg[0] : '' %>";

      if (success_msg && success_msg.length > 0) {
        Swal.fire({
          icon: 'success',
          title: 'Success',
          text: success_msg,
          confirmButtonColor: '#3085d6',
        });
      }

      if (error_msg && error_msg.length > 0) {
        Swal.fire({
          icon: 'error',
          title: 'Error',
          text: error_msg,
          confirmButtonColor: '#d33',
        });
      }
    </script>
  </body>
</html>
