<!-- Start Header/Navigation -->
<nav class="custom-navbar navbar navbar-expand-md navbar-dark bg-dark">
  <div class="container-fluid mx-5">
    <!-- Brand -->
    <a class="navbar-brand" href="/">Tempus<span>.</span></a>

    <!-- Mobile toggle -->
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarsFurni"
      aria-controls="navbarsFurni"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarsFurni">
      <!-- Centered Menu -->
      <ul class="navbar-nav mx-auto mb-2 mb-md-0">
        <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
        <li class="nav-item">
          <a class="nav-link" href="/collections">Shop</a>
        </li>
        <li class="nav-item"><a class="nav-link" href="#">About</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Contact</a></li>
      </ul>

      <!-- Right Section: Search + Icons -->
      <div class="d-flex align-items-center">
        <!-- Search (desktop only) -->
        <form
          action="/collections"
          method="GET"
          id="headerSearchForm"
          class="d-none d-md-flex me-3"
          style="max-width: 250px"
        >
          <input
            type="text"
            name="search"
            placeholder="Search..."
            class="form-control"
            value="<%= typeof search !== 'undefined' ? search : '' %>"
            id="headerSearchInput"
            style="height: 32px; font-size: 14px; background-color: #eff2f1"
          />
        </form>

        <!-- Icons -->
        <ul class="navbar-nav d-flex align-items-center mb-0 ms-3">
          <!-- User -->
          <li class="nav-item dropdown">
            <% if (locals.user) { %>
            <a
              class="nav-link dropdown-toggle"
              href="#"
              id="userDropdown"
              role="button"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              <%= locals.user.firstName %>
            </a>
            <ul
              class="dropdown-menu dropdown-menu-end"
              aria-labelledby="userDropdown"
            >
              <li>
                <a class="dropdown-item" href="/dashboard">Your Account</a>
              </li>
              <li><a class="dropdown-item" href="/logout">Logout</a></li>
            </ul>
            <% } else { %>
            <a href="/login" class="nav-link"
              ><i class="fa-regular fa-user fa-lg text-white"></i
            ></a>
            <% } %>
          </li>

          <!-- Wishlist -->
          <li class="nav-item ms-3">
            <a href="/wishlist" class="nav-link"
              ><i class="fa-regular fa-heart fa-lg text-white"></i
            ></a>
          </li>

          <!-- Cart -->
          <li class="nav-item ms-3">
            <a href="/cart" class="nav-link"
              ><i class="fa-solid fa-cart-shopping fa-lg text-white"></i
            ></a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</nav>
